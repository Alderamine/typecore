import React, { useState } from "react";

import { useSelector } from "react-redux";

import styles from "./TyperSettings.module.scss";
import { Theme } from "../../../data/themes";

import TyperParameters from "./TyperParameters";
import Presets from "../../Modals/Presets/Presets";

function TyperCustom() {
  const { accent } = useSelector(
    (state: { theme: Theme }) => state.theme.colors
  );

  const [presetModalOpened, setPresetModalOpened] = useState(false);

  function togglePresetModal() {
    setPresetModalOpened(!presetModalOpened);
  }

  return (
    <div className={styles.parameters}>
      <div className={styles["parameters__group--icon"]}>
        <svg
          width="22"
          height="22"
          viewBox="0 0 22 22"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clipPath="url(#clip0_117_982)">
            <path
              d="M11 20.1666C16.0627 20.1666 20.1667 16.0626 20.1667 11C20.1667 5.93737 16.0627 1.83331 11 1.83331C5.93743 1.83331 1.83337 5.93737 1.83337 11C1.83337 16.0626 5.93743 20.1666 11 20.1666Z"
              stroke={accent}
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M11 5.5V11L14.6667 12.8333"
              stroke={accent}
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </g>
          <defs>
            <clipPath id="clip0_117_982">
              <rect width="22" height="22" fill={accent} />
            </clipPath>
          </defs>
        </svg>

        <TyperParameters name="Time" />
      </div>

      <div className={styles["parameters__group--presets"]}>
        <span style={{ color: accent }}>presets:</span>
        <TyperParameters name="Presets" extraSpace={true} />

        <button
          className={styles.parameters__add_preset}
          onClick={togglePresetModal}
        >
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_295_3547)">
              <path
                d="M12.4199 15.9648C14.0768 15.9648 15.4199 14.6217 15.4199 12.9648C15.4199 11.308 14.0768 9.96484 12.4199 9.96484C10.7631 9.96484 9.41992 11.308 9.41992 12.9648C9.41992 14.6217 10.7631 15.9648 12.4199 15.9648Z"
                stroke={accent}
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M19.8199 15.9648C19.6868 16.2665 19.6471 16.601 19.7059 16.9254C19.7647 17.2498 19.9194 17.5492 20.1499 17.7848L20.2099 17.8448C20.3959 18.0306 20.5434 18.2512 20.644 18.494C20.7447 18.7368 20.7965 18.997 20.7965 19.2598C20.7965 19.5227 20.7447 19.7829 20.644 20.0257C20.5434 20.2685 20.3959 20.4891 20.2099 20.6748C20.0242 20.8608 19.8036 21.0083 19.5608 21.109C19.318 21.2096 19.0578 21.2614 18.7949 21.2614C18.5321 21.2614 18.2718 21.2096 18.029 21.109C17.7862 21.0083 17.5657 20.8608 17.3799 20.6748L17.3199 20.6148C17.0842 20.3843 16.7849 20.2297 16.4605 20.1708C16.1361 20.112 15.8015 20.1517 15.4999 20.2848C15.2042 20.4116 14.9519 20.6221 14.7742 20.8904C14.5966 21.1587 14.5012 21.4731 14.4999 21.7948V21.9648C14.4999 22.4953 14.2892 23.004 13.9141 23.3791C13.5391 23.7541 13.0304 23.9648 12.4999 23.9648C11.9695 23.9648 11.4608 23.7541 11.0857 23.3791C10.7106 23.004 10.4999 22.4953 10.4999 21.9648V21.8748C10.4922 21.5438 10.385 21.2228 10.1924 20.9535C9.99982 20.6843 9.73066 20.4791 9.41992 20.3648C9.11831 20.2317 8.78373 20.192 8.45933 20.2508C8.13494 20.3097 7.8356 20.4643 7.59992 20.6948L7.53992 20.7548C7.35418 20.9408 7.1336 21.0883 6.8908 21.189C6.64801 21.2896 6.38775 21.3414 6.12492 21.3414C5.86209 21.3414 5.60184 21.2896 5.35904 21.189C5.11625 21.0883 4.89567 20.9408 4.70992 20.7548C4.52397 20.5691 4.37645 20.3485 4.2758 20.1057C4.17515 19.8629 4.12335 19.6027 4.12335 19.3398C4.12335 19.077 4.17515 18.8168 4.2758 18.574C4.37645 18.3312 4.52397 18.1106 4.70992 17.9248L4.76992 17.8648C5.00046 17.6292 5.15511 17.3298 5.21393 17.0054C5.27275 16.681 5.23304 16.3465 5.09992 16.0448C4.97316 15.7491 4.76268 15.4968 4.49439 15.3192C4.2261 15.1415 3.91171 15.0461 3.58992 15.0448H3.41992C2.88949 15.0448 2.38078 14.8341 2.00571 14.4591C1.63064 14.084 1.41992 13.5753 1.41992 13.0448C1.41992 12.5144 1.63064 12.0057 2.00571 11.6306C2.38078 11.2556 2.88949 11.0448 3.41992 11.0448H3.50992C3.84092 11.0371 4.16193 10.93 4.43122 10.7374C4.70052 10.5447 4.90564 10.2756 5.01992 9.96484C5.15304 9.66323 5.19275 9.32865 5.13393 9.00426C5.07511 8.67986 4.92046 8.38052 4.68992 8.14484L4.62992 8.08484C4.44397 7.8991 4.29645 7.67852 4.1958 7.43572C4.09515 7.19293 4.04335 6.93267 4.04335 6.66984C4.04335 6.40701 4.09515 6.14676 4.1958 5.90396C4.29645 5.66117 4.44397 5.44059 4.62992 5.25484C4.81567 5.06889 5.03625 4.92137 5.27904 4.82072C5.52184 4.72008 5.78209 4.66827 6.04492 4.66827C6.30775 4.66827 6.56801 4.72008 6.8108 4.82072C7.0536 4.92137 7.27418 5.06889 7.45992 5.25484L7.51992 5.31484C7.7556 5.54538 8.05494 5.70003 8.37933 5.75885C8.70373 5.81767 9.03831 5.77796 9.33992 5.64484H9.41992C9.71569 5.51808 9.96794 5.3076 10.1456 5.03931C10.3233 4.77102 10.4186 4.45663 10.4199 4.13484V3.96484C10.4199 3.43441 10.6306 2.9257 11.0057 2.55063C11.3808 2.17556 11.8895 1.96484 12.4199 1.96484C12.9504 1.96484 13.4591 2.17556 13.8341 2.55063C14.2092 2.9257 14.4199 3.43441 14.4199 3.96484V4.05484C14.4212 4.37663 14.5166 4.69102 14.6942 4.95931C14.8719 5.2276 15.1242 5.43808 15.4199 5.56484C15.7215 5.69796 16.0561 5.73767 16.3805 5.67885C16.7049 5.62003 17.0042 5.46538 17.2399 5.23484L17.2999 5.17484C17.4857 4.98889 17.7062 4.84137 17.949 4.74072C18.1918 4.64008 18.4521 4.58827 18.7149 4.58827C18.9778 4.58827 19.238 4.64008 19.4808 4.74072C19.7236 4.84137 19.9442 4.98889 20.1299 5.17484C20.3159 5.36059 20.4634 5.58117 20.564 5.82396C20.6647 6.06676 20.7165 6.32701 20.7165 6.58984C20.7165 6.85267 20.6647 7.11293 20.564 7.35572C20.4634 7.59852 20.3159 7.8191 20.1299 8.00484L20.0699 8.06484C19.8394 8.30052 19.6847 8.59986 19.6259 8.92425C19.5671 9.24865 19.6068 9.58323 19.7399 9.88484V9.96484C19.8667 10.2606 20.0772 10.5129 20.3455 10.6905C20.6137 10.8682 20.9281 10.9636 21.2499 10.9648H21.4199C21.9504 10.9648 22.4591 11.1756 22.8341 11.5506C23.2092 11.9257 23.4199 12.4344 23.4199 12.9648C23.4199 13.4953 23.2092 14.004 22.8341 14.3791C22.4591 14.7541 21.9504 14.9648 21.4199 14.9648H21.3299C21.0081 14.9661 20.6937 15.0615 20.4255 15.2392C20.1572 15.4168 19.9467 15.6691 19.8199 15.9648V15.9648Z"
                stroke={accent}
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </g>
            <defs>
              <clipPath id="clip0_295_3547">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(0.419922 0.964844)"
                />
              </clipPath>
            </defs>
          </svg>
        </button>
      </div>

      {presetModalOpened && <Presets onClose={togglePresetModal} />}
    </div>
  );
}

export default TyperCustom;
